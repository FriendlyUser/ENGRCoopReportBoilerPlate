\documentclass[12pt]{scrreprt}
\input{engr446AuxReportPreamble.tex}

\usepackage{breakurl}
\begin{document}

\makeatletter
% Create \printauthor command which will display contact info                     
\def\printauthor{%                  
	{\large \@author}}              
\makeatother
\author{%
	David Li \\
	V00818631	\\
	%Term 3B \\
	Computer Engineering \\  
	%\vspace{4pt}lidavid@uvic.ca 
}

%\maketitle

% Picture from https://pixabay.com/en/blockchain-block-chain-technology-3019120/

\begin{titlepage}
 \begin{tikzpicture}[remember picture, overlay]
  \node[opacity=0.05,inner sep=0pt] at (current page.center)
   {\includegraphics[width=\paperwidth,height=\paperheight]{bchainCOol.png}};
  \end{tikzpicture}
	\begin{center}
		{\vspace*{3pt} }
		{\Large University of Victoria \\ \vspace{4pt}}
		{\Large Faculty of Engineering \\ \vspace{4pt}}
		{\Large ENGR 446: Milestone Report II: Engineering Analysis \\ \vspace{4pt}}  
		\rule[13pt]{1\textwidth}{1pt} \\ \vspace{1pt}
		{\LARGE \textbf{{Simplification of Transactions by leverage blockchain technologies and smart contracts}} \\ \vspace{15 pt}}
		
		{\Large David Li \hfill Computer Engineering \hfill  V00818631 }
		%{\Large BC Ministry of Transportation and Infrastructure \\} 
		%					\vspace{4pt}} 
		%{\Large Information Management Branch}
		%	\vspace{4pt}}
		%{\Large Victoria, British Columbia, Canada \\ \vspace{60pt}}
		%\AddToShipoutPicture*{\BackgroundPic}
	%	\vspace{10pt}
		%\begin{minipage}

		%{\vspace{60pt} \\}
		%{\vspace{60pt}}
		{\vspace*{-20pt}}
		\begin{figure}[htb]
		\centering
		\makebox[0pt][c]{%
		\begin{minipage}{0.59\linewidth}
		\includegraphics[width=1\linewidth,%
		  		keepaspectratio]{bchain.png}
		\end{minipage}
		\begin{minipage}{0.59\linewidth}
		\includegraphics[width=1\linewidth,%
				  keepaspectratio]{bitcoinImageTrans.png}
		\end{minipage}%
		}%
		\end{figure}
%		\begin{minipage}{0.96\linewidth}
%			\begin{flushright}
%				\printauthor
%			\end{flushright}
%		\end{minipage}
%		\begin{minipage}{0.02\linewidth}
%			\rule[0pt]{1pt}{70pt} 
%		\end{minipage}

	%	\vspace{40pt}
		{\Large \today \\ \vspace{10pt}}
			{\Large In partial fulfillment of the academic requirements of this academic course}
	\end{center}%	\AddToShipoutPicture*{\fpict}
\end{titlepage}

\renewcommand{\contentsname}{Table of Contents}
\tableofcontents
\listoffigures
\listoftables

\newpage 

\chapter{Proposed approach}
\chapter{Engineering Analysis}

\section{Security of private keys}
A ethereum key, which is randomly selected 256 digits \cite{ethereumWhitePaper:Online}, is very difficult to hack. The calculation below illustrate the impracticalities of brute force hacking for a 256 bit ethereum key.

%For example

%\begin{myexample}{Factorise $x^2-2x+1$}
%ANIME OUT
% \Solution
%\end{myexample}
%\begin{tcolorbox}[colback=red!5!white,colframe=red!75!black,listing side text,
%  title=Side by side,fonttitle=\bfseries]
%This is a \LaTeX\ example:
%\begin{equation}
%\sum\limits_{i=1}^n i = \frac{n(n+1)}{2}.
%\end{equation}
%\end{tcolorbox}

% Redo with quantum computing calculations.
% https://en.wikipedia.org/wiki/Margolus%E2%80%93Levitin_theorem


Assuming that a 1 exaflop ($10^{18}$ calculations per second) 15 megawatts supercomputer \cite{Service617} is used, electricity costs are 0.1326 per kWH \cite{BCHydroRates}. In order to hack a 256 bit key by brute force $2^{256}$ decryptions are required. Powering the machine costs \$ 1.989 million excluding maintenance and hardware costs. It can perform

\[
10^{18} calc/s \times \frac{3.154 \times 10^7 s}{1 year} = 3.154 \times 10^{25} calc/year
\]
\[
2^{256} = 1.1569 \times 10^{77} calculations
\]

So in order to brute force hack a private key in a year 
\[
Number of machines = \frac{1.1569 \times 10^{77}}{3.154 \times 10^25}= 3.66804 \times 10^{51}
\]
or $3.66804 \times 10^{51}$ years for a single supercomputer. This would cost $1.989 \times 10^6 \times =3.66804 \times 10^{51}=7.2957 \times 10^{57}$
 
 % add section for high end gaming computer
\chapter{Discussion}

\begin{appendices}
\chapter{Project Background}
\section{Background}

In 2008 bitcoin white paper [1] described a way to solve the double spending problem without a centralized body using blockchain. Although, the value of bitcoin (BTC) has grown exponentially, high computational and energy consumption in mining and slow performance [2].  Released in July 30, 2015, Ethereum, an open-source platform based on blockchain technology, distinguishes itself from bitcoin through faster transactions, unlimited processing capability for {smart contract}, and its network is optimized to support Decentralized Applications [3].

%modify this for markdown file
\begin{table}[ht]
\centering
\renewcommand\arraystretch{1.4}\arrayrulecolor{blue}
\captionsetup{singlelinecheck=false, labelfont=sc, labelsep=quad}
\caption{Timeline of Cryptocurrency}%\vskip -1.5ex
% lwarp table, and print edition (uncomment stuff below for good copy)
%\begin{tabular}{l l }%
% Good copy for print edition
\begin{tabular}{@{\,}r <{\hskip 2pt} !{\foo} >{\raggedright\arraybackslash}p{5cm}}
%\toprule
%\addlinespace[1.5ex]
2008 & Bitcoin White Paper \\
2009 & Bitcoin Genesis Block\\
2013 & 1 BTC = \$ 31 USD\\
2013 & Ethereum White Paper \\
2015 & Ethereum Genesis Block\\
2015 & HyperLedger starts \\
2017 & Over 1000 different cryptocurrencies \\
2018 & AWS Blockchain Templates \\
\end{tabular}
\end{table}


Blockchain technology is revolutionizing the internet by establishing trust in shared data. [3].
	Additionally, transactions recorded on the blockchain are practically impossible to remove or change. 
	A decentralized application, or DApp are deployed on peer to peer networks such as Ethereum or on the cloud.
	
	
Traditional legal contracts are written to represent the contracting parties. In a smart contract, self-executing source code is used to automatic transactions that are publicly available on the blockchain [3].

\begin{figure}[ht]
		\centering
		\includegraphics[width=1\linewidth]{smartContractsExp.pdf}
		\caption{Illustrating how a smart contract works}
		\label{fig:smartContracts}
\end{figure}

\newpage 

\section{Objective}
The prominence of cryptocurrency and decentralized applications suggests usage of smart contracts will experience explosive growth.

\subsection{Problem}

Currently commonplace transactions require days to process and for parties verify correctness. For example to purchase houses, a plethora of steps are required, one must interactive with lawyers, real-estate agents, home inspector, buy insurance and shop for a mortgage. 

\subsection{Purpose}
Leveraging existing blockchain technologies can automatic the majority of steps and cut out the middlemen, resulting in buyers conversing directing with sellers.
% Although smart contracts have immense potential to simplify transactions, issues such as limiting access to information, latency when updating (takes 10 minutes to write info to bitcoin blockchain), and immutability of translations (cannot undo transfer of assets) must be addressed.
% See https://www.cs.auckland.ac.nz/research/groups/ssg/homepages/yu-cheng/ytu001_PhDThesis.pdf
% https://researchspace.auckland.ac.nz/handle/2292/22092
\subsection{Aims}
The aims of this project are to develop a decentralized blockchain system that:
\begin{enumerate}
\item Reduce cost of transactions by at least 50\% from removing middlemen.
\item Improve transparency in software systems through augmented accessibility and understandability.
\item Has increased reliability and more secure than traditional systems.
%1. Uses 15% less material to decrease cost and weight.
%2. Has improved efficiency by reducing the air gap by 10%.
%3. Has no reduction in its reliability or increase in its maintenance requirements. 
\end{enumerate}
\subsection{Limitations}

The regulatory uncertainty and impact of future regulations on blockchain technologies such as smart contracts will not be investigated. In addition, criminal usage of cryptocurrencies to avoid taxation and legal repercussions are beyond the scope of this report. 
%The performance of the linear generator in extreme storm events will not be investigated as this
%cannot be accurately modeled using Airy linear wave theory. This project will be based on
%numerical simulations; no physical model will be tested to validate the results.

\newpage  
\section{Potential Solutions}

\begin{itemize}
	\item[---] \textbf{Public blockchains} are large distributed networks that are run through a native token such as bitcoin or ether. Anyone can participate and the community maintains its open-source code. The two largest public blockchains are Ethereum and Bitcoin. They are open for anyone to participate at any level and have open-source code that their community maintains.
	% rewrite and add section about composer
	\item[---] \textbf{Permissioned blockchains} define role based access control for individuals in the network and uses native tokens.  HyperLedger Composer, an open-source framework for permissioned blockchains, is used for smart contracts and for blockchain application development [4]. One use case is an accounting system that calculates payment, while hiding that information from unrelated organizations.  \hfill \break % Their core code may or may not be open source.
	\begin{figure}[ht]
	\includegraphics[width=1\linewidth]{composer-arch.png}
	\caption{Architecture of Hyperledger composer}
	\end{figure}
	\item[---] \textbf{Private blockchains}  membership is tightly controlled and lacks a native token. Useful for consortiums with trusted associates and exchanging confidential information, however, less powerful because it is supported by limited private resources. Large organizations such as governments will likely use these extensively.
\end{itemize}

\newpage 
\section{Initial Assessment}
% Discuss how it is significantly more accessible for money to issue their own currencies, ICOs

% Explain how much it costs to how a bunch, like 5%, getting an automatic system will be cheaper as wages will not be paid, cover cost of gas
% "Gas" is the name for a special unit used in Ethereum. It measures how much "work" an action or set of actions takes to perform: for example, to calculate one Keccak256 cryptographic hash it will take 30 gas each time a hash is calculated, plus a cost of 6 more gas for every 256 bits of data being hashed. Every operation that can be performed by a transaction or contract on the Ethereum platform costs a certain number of gas, with operations that require more computational resources costing more gas than operations that require few computational resources.

% https://ethereum.stackexchange.com/questions/3/what-is-meant-by-the-term-gas

Determining which platform is best for smart contracts should be done using a weighted decision matrix, based on the particular application. For internal processes such as supply chains, a private blockchain makes sense (data cannot be changed) and cryptographic auditing with known identities (public keys). For a trustless system that verifies every transaction, using a public blockchain is essential. In comparison, role-based access control is feasible by using a permissioned blockchain. \hfill \break
%\hfill \break 

Despite the slow speed of the public blockchain, innovations such as side chains enable quick transactions and are used in decentralized game development [5]. A permissioned blockchain allows role based access control which is essential in business applications. One example is to prevent unrelated parties from viewing other's data. 	Furthermore, smart contracts allow buyers and sellers exchange money, property, shares, or anything of value in a transparent, conflict-free way while avoiding the services of a middleman. This allows validation of complex transactions swiftly while maintaining transparency.
%modify this for markdown file

\begin{table}[H]
\centering
\caption{Sample Decision Matrix for designing a blockchain system}
\arrayrulecolor{white}
\arrayrulewidth=1pt
\renewcommand{\arraystretch}{1.5}
\rowcolors[\hline]{3}{.!50!white}{}
\begin{tabular}{D E A B C }
\multicolumn{1}{l}{}      & \multicolumn{1}{c}{Existing Systems}    & \multicolumn{3}{c}{BlockChain Systems}                                                                                    \\
\multicolumn{1}{c}{Criteria}                 & \multicolumn{1}{c}{Centralized} & \multicolumn{1}{c}{Public} & \multicolumn{1}{c}{Permissioned} & \multicolumn{1}{c}{Private} \\
speed and latency         &    5                                     &      7                                 &         7                                    &                  6                     \\
scalability         &        5                                &     9  8                                &          7                                &                         4               \\
security and immutablity  &     3                                    &                        7               &    8.5                                         &                   9                     \\
storage capacity          &        4                                 &            9                           &                         9                    &         6                               \\
transparency              &   3                                      &                         9              &    7                                            &               5                         \\
\multicolumn{1}{c}{Total} &    21                                     &               41.6                        &    38.5                                         &          30                             
\end{tabular}
\end{table}

 A decentralized system (peer to peer) has many advantages over a conventional centralized network including no single points of failure, cheaper distribution (servers are expensive), faster upload speeds and improved security. In addition, irreversible and immutable transactions are both an advantage and disadvantage. For example, an amateur coder killed the contract that allowed users to transfer Ether for the Parity Ethereum Wallet, rendering 150 to 300 million dollars completely useless [6].
Overall, the public blockchain with access to substantial collective resources is most viable in terms of scalability and transparency, however, institutes may prefer implementing permissioned or private blockchains internally for extended security and privacy. 


\newpage 
% Add survey of functionality, what industries could be impacted A survey of potential users. 
%\printbibliography

%\hypertarget{refs}{}

\section*{References for Appendix}

\hfill \break 


\leavevmode\hypertarget{ref-bitcoinWhitePaper:Online}{}%
{[}1{]} "Bitcoin white paper." \url{https://bitcoin.org/bitcoin.pdf}.

\leavevmode\hypertarget{ref-bitCoinProblems:Online}{}%
{[}2{]} S. Elnaj, "The problems with bitcoin and the future of
blockchain."
\url{https://www.forbes.com/sites/forbestechcouncil/2018/03/29/the-problems-with-bitcoin-and-the-future-of-blockchain}.

\leavevmode\hypertarget{ref-ethereumWhitePaper:Online}{}%
{[}3{]} "Ethereum white paper."
\url{https://github.com/ethereum/wiki/wiki/White-Paper}.

\leavevmode\hypertarget{ref-hyperledgerComposer:Online}{}%
{[}4{]} "Hyperledger composer overview."
\url{https://www.hyperledger.org/wp-content/uploads/2017/05/Hyperledger-Composer-Overview.pdf}.

\leavevmode\hypertarget{ref-loomNetwork:Online}{}%
{[}5{]} A. B. M. Corallo, "Loom network sdk for developers."
\url{https://medium.com/loom-network/loom-sdk-for-developers-using-an-indexing-layer-for-lightning-fast-dapp-performance-b17f8ba25a3c}.

\leavevmode\hypertarget{ref-funnyJoke:Online}{}%
{[}6{]} T. Maas, "Yes, this kid really just deleted 300 million by
messing around with ethereum's smart contracts."
\url{https://hackernoon.com/yes-this-kid-really-just-deleted-150-million-dollar-by-messing-around-with-ethereums-smart-2d6bb6750bb9}

\end{appendices}
\end{document}
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1007px" preserveAspectRatio="none" style="width:1605px;height:1007px;" version="1.1" viewBox="0 0 1605 1007" width="1605px" zoomAndPan="magnify"><defs><filter height="300%" id="f3tyyvs95prk9" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster SF--><rect fill="#FEFECE" filter="url(#f3tyyvs95prk9)" height="678" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="613" x="254" y="24.28"/><rect fill="#FFFFFF" height="645.7031" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="607" x="257" y="53.5769"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="254" x2="867" y1="50.5769" y2="50.5769"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="492.5" y="41.2751">StoreFront Contract</text><!--cluster ERC20--><rect fill="#FEFECE" filter="url(#f3tyyvs95prk9)" height="221.72" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="797" x="30" y="774.28"/><rect fill="#FFFFFF" height="189.4231" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="791" x="33" y="803.5769"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="30" x2="827" y1="800.5769" y2="800.5769"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="371.5" y="791.2751">ERC 20 Contract</text><!--cluster ERC721--><rect fill="#FEFECE" filter="url(#f3tyyvs95prk9)" height="246.36" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="694" x="899" y="277.28"/><rect fill="#FFFFFF" height="214.0631" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="688" x="902" y="306.5769"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="899" x2="1593" y1="303.5769" y2="303.5769"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="1184.5" y="294.2751">ERC 721 Contract</text><rect fill="#FEFECE" filter="url(#f3tyyvs95prk9)" height="50.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="239" x="611.5" y="156.28"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="611.5" x2="850.5" y1="182.5769" y2="182.5769"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="676" y="174.2751">Create ERC 721</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="219" x="616.5" y="198.7155">Makes new reward and stores info.</text><rect fill="#FEFECE" filter="url(#f3tyyvs95prk9)" height="50.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="258" x="314" y="156.28"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="314" x2="572" y1="182.5769" y2="182.5769"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="389" y="174.2751">Trading Tokens</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="238" x="319" y="198.7155">spend ERC20s to get ERC721 rewards</text><ellipse cx="566" cy="69.28" fill="#000000" filter="url(#f3tyyvs95prk9)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f3tyyvs95prk9)" height="78.2031" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="170" x="331" y="313.28"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="331" x2="501" y1="339.5769" y2="339.5769"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="99" x="366.5" y="331.2751">GetAddresses</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="146" x="336" y="355.7155">Get transaction sender</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="133" x="340" y="369.6843">and storefront owner</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="135" x="340" y="383.653">Ethereum addresses.</text><path d="M536,324.78 L536,348.28 L501.078,352.28 L536,356.28 L536,380.1784 A0,0 0 0 0 536,380.1784 L824,380.1784 A0,0 0 0 0 824,380.1784 L824,334.78 L814,324.78 L536,324.78 A0,0 0 0 0 536,324.78 " fill="#FBFB77" filter="url(#f3tyyvs95prk9)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M814,324.78 L814,334.78 L824,334.78 L814,324.78 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="542" y="341.8469">In order for the trade</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="542" y="356.9797">to occur, the recieving party</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="259" x="542" y="372.1125">and the sender party be must be known.</text><rect fill="#FEFECE" filter="url(#f3tyyvs95prk9)" height="64.2344" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="278" x="271" y="483.28"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="271" x2="549" y1="509.5769" y2="509.5769"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="182" x="319" y="501.2751">Compute Conversion Rate</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="254" x="276" y="525.7155">Find out how much ERC721 are returned</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="202" x="280" y="539.6843">for the given amounts of ERC20.</text><rect fill="#FEFECE" filter="url(#f3tyyvs95prk9)" height="78.2031" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="270" y="608.28"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="270" x2="518" y1="634.5769" y2="634.5769"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="217" x="285.5" y="626.2751">Perform and Check Transaction</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="177" x="275" y="650.7155">Ask the ERC20 Contract and</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="220" x="279" y="664.6843">ERC721 contract is the transaction</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="222" x="279" y="678.653">will be completed, otherwise revert.</text><path d="M553,627.28 L553,643.28 L518.223,647.28 L553,651.28 L553,667.5456 A0,0 0 0 0 553,667.5456 L851,667.5456 A0,0 0 0 0 851,667.5456 L851,637.28 L841,627.28 L553,627.28 A0,0 0 0 0 553,627.28 " fill="#FBFB77" filter="url(#f3tyyvs95prk9)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M841,627.28 L841,637.28 L851,637.28 L841,627.28 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="559" y="644.3469">1. No non zero trades allowed,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="277" x="559" y="659.4797">number of rewards must be greater than 0.</text><rect fill="#FEFECE" filter="url(#f3tyyvs95prk9)" height="50.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="264" x="539" y="831.28"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="539" x2="803" y1="857.5769" y2="857.5769"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="626" y="849.2751">constructor()</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="244" x="544" y="873.7155">requires string, name and initial supply</text><rect fill="#FEFECE" filter="url(#f3tyyvs95prk9)" height="78.2031" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="219" x="284.5" y="817.28"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="284.5" x2="503.5" y1="843.5769" y2="843.5769"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="360" y="835.2751">allowance</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="177" x="289.5" y="859.7155">given an ethereum address,</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="176" x="293.5" y="873.6843">return amount that address</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="195" x="293.5" y="887.653">can spend  on behalf of owner.</text><rect fill="#FEFECE" filter="url(#f3tyyvs95prk9)" height="64.2344" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="54.5" y="824.28"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="54.5" x2="249.5" y1="850.5769" y2="850.5769"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="125.5" y="842.2751">transfer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="141" x="59.5" y="866.7155">specific how many and</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="171" x="63.5" y="880.6843">who should recieve tokens.</text><rect fill="#FEFECE" filter="url(#f3tyyvs95prk9)" height="50.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="179" x="1389.5" y="327.28"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1389.5" x2="1568.5" y1="353.5769" y2="353.5769"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1434" y="345.2751">constructor()</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="159" x="1394.5" y="369.7155">requires string and name</text><rect fill="#FEFECE" filter="url(#f3tyyvs95prk9)" height="64.2344" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="222" x="1132" y="320.28"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1132" x2="1354" y1="346.5769" y2="346.5769"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="145" x="1170.5" y="338.2751">Balance of Storefront</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="198" x="1137" y="362.7155">Check how many unique tokens</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="183" x="1141" y="376.6843">the storefront can give away.</text><rect fill="#FEFECE" filter="url(#f3tyyvs95prk9)" height="64.2344" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="923" y="320.28"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="923" x2="1097" y1="346.5769" y2="346.5769"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="983.5" y="338.2751">transfer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="150" x="928" y="362.7155">Specific what token and</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="112" x="932" y="376.6843">who should get it.</text><!--link *start*SF to create721--><path d="M575.46,72.638 C593.586,77.455 633.982,89.656 663,109.28 C680.317,120.991 696.63,137.749 708.935,152.044 " fill="none" id="*start*SF-create721" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="712.297,156.004,709.5196,146.5549,709.0603,152.193,703.4221,151.7337,712.297,156.004" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="685" y="122.3469">Making new reward</text><!--link *start*SF to tradeTokens--><path d="M559.035,76.509 C542.936,90.906 502.34,127.211 473.723,152.804 " fill="none" id="*start*SF-tradeTokens" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="469.944,156.184,479.3192,153.1665,473.6712,152.8511,473.9866,147.2031,469.944,156.184" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="521" y="122.3469">trading digital assets</text><!--link tradeTokens to GetAddresses--><path d="M439.132,206.494 C434.91,232.917 428.067,275.752 422.916,307.989 " fill="none" id="tradeTokens-GetAddresses" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="422.105,313.068,427.4744,304.8115,422.8936,308.1306,419.5746,303.5498,422.105,313.068" style="stroke: #A80036; stroke-width: 1.0;"/><!--link GetAddresses to CCR--><path d="M414.578,391.435 C413.6,417.675 412.31,452.306 411.348,478.109 " fill="none" id="GetAddresses-CCR" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="411.16,483.147,415.4916,474.3018,411.3457,478.1505,407.4971,474.0046,411.16,483.147" style="stroke: #A80036; stroke-width: 1.0;"/><!--link CCR to checkTrans--><path d="M406.168,547.418 C404.123,564.034 401.573,584.746 399.338,602.913 " fill="none" id="CCR-checkTrans" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="398.716,607.964,403.7865,599.5206,399.3274,603.0015,395.8465,598.5424,398.716,607.964" style="stroke: #A80036; stroke-width: 1.0;"/><!--link create721 to con721--><path d="M850.577,206.049 C937.003,222.219 1056.75,242.558 1163,253.28 C1186.12,255.613 1350.32,252.903 1372,261.28 C1405.25,274.131 1435.57,301.856 1455.37,323.161 " fill="none" id="create721-con721" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1458.94,327.059,1455.8071,317.7217,1455.5614,323.3732,1449.9099,323.1275,1458.94,327.059" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="1177" y="249.3469">instantiate contract</text><!--link con721 to create721--><path d="M1455.96,327.224 C1435.54,307.132 1404.08,279.005 1372,261.28 C1340.14,243.676 1329.66,243.616 1294,236.28 C1145.21,205.671 970.656,192.336 855.807,186.576 " fill="none" id="con721-create721" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="850.725,186.324,859.5163,190.7639,855.7189,186.5711,859.9117,182.7737,850.725,186.324" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="1357" y="249.3469">return address</text><!--link checkTrans to allowance--><path d="M394,686.73 C394,722.168 394,774.715 394,811.697 " fill="none" id="checkTrans-allowance" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="394,817.036,398,808.036,394,812.036,390,808.036,394,817.036" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="226" x="395" y="731.3469">2. check if storefront can spend the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="423.5" y="746.4797">specified number of tokens.</text><!--link checkTrans to balanceSF--><path d="M518.301,611.58 C523.927,610.389 529.513,609.28 535,608.28 C672.287,583.26 1047.4,629.71 1160,547.28 C1211.09,509.879 1231.03,434.55 1238.59,389.555 " fill="none" id="checkTrans-balanceSF" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1239.41,384.492,1234.0234,392.7373,1238.6111,389.4278,1241.9207,394.0155,1239.41,384.492" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="1210" y="512.3469">3. There must be enough ERC721s</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="1245.5" y="527.4797">tokens to be given away.</text><!--link transfer to ERC20--><path d="M152,888.418 C152,926.2767 152,985.3978 152,987.2361 " fill="none" id="transfer-ERC20" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="152,987.2361,156,978.2361,152,982.2361,148,978.2361,152,987.2361" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="156" y="938.3469">4.  Give the ERC20 tokens</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="157" y="953.4797">to the StoreFront contract.</text><!--link transfer721 to ERC721--><path d="M1010,384.322 C1010,430.376 1010,511.69 1010,514.22 " fill="none" id="transfer721-ERC721" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1010,514.22,1014,505.22,1010,509.22,1006,505.22,1010,514.22" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="1011" y="434.3469">5. Give the reward</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="1038" y="449.4797">to the user.</text><!--
@startuml
state "StoreFront Contract" as SF {
  state "Create ERC 721" as create721
   create721: Makes new reward and stores info.
   state "Trading Tokens" as tradeTokens
   tradeTokens: spend ERC20s to get ERC721 rewards
  [*] - -> create721 : Making new reward
  [*] - -> tradeTokens : trading digital assets 
  tradeTokens - -> GetAddresses 
  GetAddresses : Get transaction sender \n and storefront owner \n Ethereum addresses.
  note right of GetAddresses
  In order for the trade 
  to occur, the recieving party 
  and the sender party be must be known.  
end note
  state "Compute Conversion Rate" as CCR
  CCR: Find out how much ERC721 are returned \n for the given amounts of ERC20.
  GetAddresses - -> CCR

  state "Perform and Check Transaction" as checkTrans
  checkTrans : Ask the ERC20 Contract and \n ERC721 contract is the transaction \n will be completed, otherwise revert.
  CCR - -> checkTrans
  
  note right of checkTrans
  1. No non zero trades allowed, 
  number of rewards must be greater than 0.
  end note
}

state "ERC 20 Contract" as ERC20 {
  state "constructor()" as con20
    con20: requires string, name and initial supply

  state allowance : given an ethereum address, \n return amount that address \n can spend  on behalf of owner. 
  state transfer : specific how many and \n who should recieve tokens.
}

state "ERC 721 Contract" as ERC721 {
    state "constructor()" as con721
    con721: requires string and name
    state "Balance of Storefront" as balanceSF 
    balanceSF : Check how many unique tokens \n the storefront can give away.
    
    state "transfer" as transfer721
    transfer721 : Specific what token and \n who should get it.
}
create721 - -> con721 : instantiate contract
con721 - -> create721 : return address 

checkTrans - -> allowance : 2. check if storefront can spend the \n specified number of tokens.

checkTrans - -> balanceSF : 3. There must be enough ERC721s \n tokens to be given away.

transfer - -> ERC20 : 4.  Give the ERC20 tokens \n to the StoreFront contract.

transfer721 - -> ERC721 :5. Give the reward \n  to the user.
@enduml

PlantUML version 1.2018.09(Fri Jul 27 16:58:18 UTC 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>